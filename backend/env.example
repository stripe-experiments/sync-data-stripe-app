# Sync Stripe App - Environment Variables
# Copy this file to .env.local for local development

# =============================================================================
# Stripe Configuration
# =============================================================================

# Stripe App Client IDs (from Dashboard > Developers > Apps > Your App > External test tab)
# Note: Stripe Apps have SEPARATE client IDs for test and live modes
# Find these in the OAuth install links for each mode
STRIPE_APP_CLIENT_ID_TEST=ca_xxx
STRIPE_APP_CLIENT_ID_LIVE=ca_xxx

# Stripe Secret Keys (from Dashboard > Developers > API keys)
STRIPE_SECRET_KEY_TEST=sk_test_xxx
STRIPE_SECRET_KEY_LIVE=sk_live_xxx

# =============================================================================
# Application Configuration
# =============================================================================

# Base URL of your deployed backend (no trailing slash)
# For local development with ngrok: https://abc123.ngrok.io
# For Vercel: https://your-app.vercel.app
BASE_URL=https://your-app.vercel.app

# =============================================================================
# Security
# =============================================================================

# 32-byte encryption key for token storage (64 hex characters)
# Generate with: openssl rand -hex 32
# Or: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
ENCRYPTION_KEY=your-64-character-hex-key-here

# Stripe App Signing Secret (absec_...)
# Used to verify that UI extension requests are authentically signed by Stripe.
# Find this in: Dashboard > Developers > Apps > Your App > (â‹¯) menu > Signing secret
#
# For secret rotation, you can provide multiple secrets separated by commas.
# Both secrets will be valid during the rotation period (up to 24 hours).
# Example: STRIPE_APP_SIGNING_SECRET=absec_new_secret,absec_old_secret
STRIPE_APP_SIGNING_SECRET=absec_xxx

# =============================================================================
# Database (Supabase)
# =============================================================================

# Supabase Postgres connection string
# Find this in: Supabase Dashboard > Project Settings > Database > Connection string > URI
# Use the "Transaction" pooler (port 6543) for serverless, or "Session" (port 5432) for long-lived connections
#
# Format: postgresql://postgres.[project-ref]:[password]@aws-0-[region].pooler.supabase.com:6543/postgres
DATABASE_URL=postgresql://postgres.xxxxxxxxxxxxxxxxxxxx:your-password@aws-0-us-east-1.pooler.supabase.com:6543/postgres
