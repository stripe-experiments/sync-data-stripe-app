# Sync Stripe App - Environment Variables
# Copy this file to .env.local for local development

# =============================================================================
# Stripe Configuration
# =============================================================================

# Stripe App Client IDs (from Dashboard > Developers > Apps)
STRIPE_APP_CLIENT_ID_TEST=ca_xxx
STRIPE_APP_CLIENT_ID_LIVE=ca_xxx

# Stripe Secret Keys (from Dashboard > Developers > API keys)
STRIPE_SECRET_KEY_TEST=sk_test_xxx
STRIPE_SECRET_KEY_LIVE=sk_live_xxx

# Stripe API version (optional, defaults to 2020-08-27)
# Used for webhook creation on connected accounts
# STRIPE_API_VERSION=2020-08-27

# Stripe Webhook API version (optional, falls back to STRIPE_API_VERSION)
# Override specifically for webhook endpoints if needed
# STRIPE_WEBHOOK_API_VERSION=2020-08-27

# =============================================================================
# Application Configuration
# =============================================================================

# Base URL of your deployed backend (no trailing slash)
BASE_URL=https://your-app.vercel.app

# =============================================================================
# Security
# =============================================================================

# 32-byte encryption key for token storage (64 hex characters)
# Generate with: openssl rand -hex 32
# Or: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
ENCRYPTION_KEY=your-64-character-hex-key-here

# Stripe App Signing Secret (absec_...)
# Used to verify that UI extension requests are authentically signed by Stripe.
# Find this in: Dashboard > Developers > Apps > Signing secret
#
# For secret rotation, you can provide multiple secrets separated by commas.
# Both secrets will be valid during the rotation period (up to 24 hours).
# Example: STRIPE_APP_SIGNING_SECRET=absec_new_secret,absec_old_secret
STRIPE_APP_SIGNING_SECRET=absec_xxx

# =============================================================================
# Control Plane Postgres Database
# =============================================================================

DATABASE_URL=postgresql://postgres.xxxxxxxxxxxxxxxxxxxx:your-password@aws-0-us-east-1.pooler.supabase.com:6543/postgres

# =============================================================================
# Supabase Management API (for provisioning per-user databases)
# =============================================================================

# Personal Access Token from https://supabase.com/dashboard/account/tokens
SUPABASE_ACCESS_TOKEN=sbp_xxx

# Organization ID where provisioned projects will be created
# Find this in your Supabase Dashboard URL: https://supabase.com/dashboard/org/{org-id}
SUPABASE_ORGANIZATION_ID=xxx

# Region for new projects (optional, defaults to us-east-1)
# SUPABASE_REGION=us-east-1

# Timeout for waiting for database to become ready (optional, defaults to 600000ms = 10 minutes)
# PROVISIONING_WAIT_DATABASE_READY_TIMEOUT_MS=600000
